{% extends 'layout.html' %}
{% block body %}

<a href="/graduaciones">Regresar</a>
<br>
<h2 class="text-center">{{event}}</h2>

<div class="row mt-4 justify-content-center">
    <div class="card card-body bg-white col-10">
        <h3 class="text-center">Calcular costo de fotos</h3>
        <div class="row form-group">

            <div class="form-group col">
                <label for="formGroupExampleInput">6x9</label>
                <input type="number" id="_6x9" value="0" onchange="calculate_cost();"
                    class="form-control form-control-sm" id="formGroupExampleInput">
            </div>

            <div class="input-group mb-3">
                <div class="input-group-prepend">
                  <span class="input-group-text" id="basic-addon1">@</span>
                </div>
                <input type="text" class="form-control" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1">
              </div>

            <div class="form-group col">
                <label for="formGroupExampleInput">8x12</label>
                <input type="number" id="_8x12" value="0" onchange="calculate_cost();"
                    class="form-control form-control-sm" id="formGroupExampleInput">
            </div>

        </div>
        <div class="col">
            <h6 class="text-center" id="cost_ind">El costo del paquete es: $ 0</h6>
        </div>

    </div>
</div>

<div class="row mt-4 justify-content-center">
    <div class="card card-body col-10">
        <form action="/add_client" method="POST" name="add">
            <h3 class="text-center">Agregar nuevo pedido</h3>
            <input type="text" name="event_selected" value="{{event}}" style="display: none;">
            <input type="text" name="name" placeholder="Ingresa el nombre del cliente">
            <input type="number" name="id_table" placeholder="Ingresa el numero de mesa">
            <input type="text" name="num_photo" placeholder="Ingresa el numero de foto">
            <input type="text" name="num_6x9" placeholder="Cantidad 6x9" readonly="readonly">
            <input type="text" name="num_8x12" placeholder="Cantidad 8x12" readonly="readonly">
            <input type="number" name="cost" id="cost" placeholder="Ingresa el costo del paquete" readonly="readonly">
            <input type="number" name="payment" id="payment" placeholder="Ingresa el monto del pago que recibes"> <br>
            <button type="submit" onsubmit="validate()">Agregar pedido</button>
        </form>
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
        <div class="alert alert-info alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>
</div>

<div class="row mt-4 justify-content-center">
    <table class="table table-striped table-active table-bordered table-sm text-center col-10">
        <thead>
            <tr>
                <td>Nombre</td>
                <td># de Mesa</td>
                <td class="no_visible"># de Foto</td>
                <td class="no_visible">6x9</td>
                <td class="no_visible">8x12</td>
                <td>Costo</td>
                <td>Pagado</td>
                <td>Acciones</td>
            </tr>
        </thead>
        <tbody>
            {% for client in data %}
            <tr>
                <td>{{ client.1 }}</td>
                <td>{{ client.2 }}</td>
                <td>{{ client.3 }}</td>
                <td class="no_visible">{{ client.4 }}</td>
                <td class="no_visible">{{ client.5 }}</td>
                <td class="no_visible">{{ client.6 }}</td>
                <td>{{ client.7 }}</td>
                <td>
                    <a href="/edit_client/{{event}}/{{client.0}}" class="btn btn-warning btn-sm">Editar</a>
                    <a href="/delete_client/{{event}}/{{client.0}}" class="btn btn-danger btn-sm">Eliminar</a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<script src="{{url_for('static', filename='js/main.js')}}"></script>

{% endblock %}